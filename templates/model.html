{% extends "base.html" %} {% block title %}{{ title }}{% endblock %} {% block
content %}
<div class="model-container">
  <!-- Header -->
  <header class="model-header">
    <h1>Model <span class="gradient-text">Architecture</span></h1>
    <p class="lead">
      Two powerful approaches working together to detect fake news with
      transparency and speed.
    </p>
  </header>

  <!-- Model Cards -->
  <div class="model-grid">
    <!-- Classic Model -->
    <div class="model-card classic">
      <div class="card-header">
        <div class="icon">C</div>
        <h3>Classic Model</h3>
      </div>
      <div class="card-body">
        <ul>
          <li><strong>Algorithm:</strong> Logistic Regression</li>
          <li><strong>Vectorization:</strong> TF-IDF</li>
          <li><strong>Speed:</strong> < 50 ms per prediction</li>
          <li><strong>Best for:</strong> Short headlines, fast inference</li>
        </ul>
        <div class="usage-bar">
          <div class="fill" style="width: {{ model_stats.classic_pct }}%"></div>
          <span
            >{{ model_stats.classic_pct }}% usage ({{ model_stats.classic }}
            preds)</span
          >
        </div>
      </div>
    </div>

    <!-- LSTM Model -->
    <div class="model-card lstm">
      <div class="card-header">
        <div class="icon">L</div>
        <h3>LSTM Model</h3>
      </div>
      <div class="card-body">
        <ul>
          <li><strong>Architecture:</strong> Bidirectional LSTM</li>
          <li><strong>Embedding:</strong> GloVe (100d)</li>
          <li><strong>Speed:</strong> ~200 ms per prediction</li>
          <li>
            <strong>Best for:</strong> Long articles, context understanding
          </li>
        </ul>
        <div class="usage-bar">
          <div class="fill" style="width: {{ model_stats.lstm_pct }}%"></div>
          <span
            >{{ model_stats.lstm_pct }}% usage ({{ model_stats.lstm }}
            preds)</span
          >
        </div>
      </div>
    </div>
  </div>

  <!-- How It Works -->
  <section class="section">
    <h2 class="section-title">
      <span class="icon">Flow</span> How Detection Works
    </h2>
    <div class="pipeline">
      <svg viewBox="0 0 800 140" class="pipeline-svg">
        <defs>
          <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#2563eb" />
            <stop offset="100%" stop-color="#16a34a" />
          </linearGradient>
        </defs>

        <!-- Text Input -->
        <rect x="20" y="40" width="120" height="60" rx="12" fill="#e0f2fe" />
        <text x="80" y="75" text-anchor="middle" class="svg-label">
          Input Text
        </text>

        <!-- Arrow -->
        <path
          d="M 160 70 L 200 70"
          stroke="#6b7280"
          stroke-width="2"
          marker-end="url(#arrow)"
        />
        <defs>
          <marker
            id="arrow"
            markerWidth="10"
            markerHeight="10"
            refX="9"
            refY="3"
            orient="auto"
          >
            <path d="M0,0 L0,6 L9,3 z" fill="#6b7280" />
          </marker>
        </defs>

        <!-- Preprocess -->
        <rect x="220" y="40" width="140" height="60" rx="12" fill="#f0fdf4" />
        <text x="290" y="75" text-anchor="middle" class="svg-label">
          Clean & Tokenize
        </text>

        <!-- Arrow -->
        <path
          d="M 380 70 L 420 70"
          stroke="#6b7280"
          stroke-width="2"
          marker-end="url(#arrow)"
        />

        <!-- Model Branch -->
        <g transform="translate(440,40)">
          <rect x="0" y="0" width="140" height="60" rx="12" fill="#fef3c7" />
          <text x="70" y="35" text-anchor="middle" class="svg-label">
            Choose Model
          </text>
        </g>

        <!-- Arrows to models -->
        <path
          d="M 580 55 L 620 30"
          stroke="#6b7280"
          stroke-width="2"
          marker-end="url(#arrow)"
        />
        <path
          d="M 580 85 L 620 110"
          stroke="#6b7280"
          stroke-width="2"
          marker-end="url(#arrow)"
        />

        <!-- Classic -->
        <rect x="640" y="10" width="140" height="60" rx="12" fill="#dbeafe" />
        <text x="710" y="45" text-anchor="middle" class="svg-label">
          TF-IDF + LR
        </text>

        <!-- LSTM -->
        <rect x="640" y="90" width="140" height="60" rx="12" fill="#fef3c7" />
        <text x="710" y="125" text-anchor="middle" class="svg-label">
          LSTM Network
        </text>
      </svg>
    </div>
  </section>

  <!-- Explainability -->
  <section class="section">
    <h2 class="section-title">
      <span class="icon">Lightbulb</span> Explainable AI with LIME
    </h2>
    <p>
      Every prediction includes a <strong>LIME explanation</strong> — an
      interactive HTML breakdown showing
      <span class="highlight"
        >which words pushed the model toward FAKE or REAL</span
      >.
    </p>
    <p class="small text-muted">
      Example: <em>"Trump", "hoax", "breaking"</em> → increases FAKE score.
    </p>
  </section>

  <!-- Footer -->
  <footer class="model-footer">
    <p>© {{ year }} Fake News Detector. Built with transparency in mind.</p>
  </footer>
</div>

<h2>⚠ Disclaimer</h2>
<p style="background:#fff3cd; padding:15px; border-left:5px solid #ffcc00;">
    <strong>Important Note:</strong><br>
    This system detects linguistic patterns in text and classifies them based on their similarity 
    to known real or fake news articles in the training dataset. 
    <br><br>
    It does <strong>not</strong> verify factual accuracy, evaluate political claims, or determine the truthfulness of statements 
    about real individuals. Results should be interpreted as a stylistic analysis — not fact validation.
</p>


<!-- ========= VANILLA CSS ========= -->
<style>
  :root {
    --primary: #2563eb;
    --success: #16a34a;
    --warning: #f59e0b;
    --danger: #dc2626;
    --gray: #6b7280;
    --light: #f9fafb;
    --dark: #1f2937;
    --radius: 12px;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    --transition: all 0.25s ease;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--dark);
    background: #f8fafc;
    min-height: 100vh;
  }
  @media (max-width: 768px) {
    body {
      padding-left: 0;
    }
  }

  .model-container {
    max-width: calc(1000px + 150px);
    margin: 0 auto;
    padding: 2rem;
  }

  /* Header */
  .model-header {
    text-align: center;
    margin-bottom: 3rem;
  }
  .model-header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }
  .gradient-text {
    background: linear-gradient(90deg, var(--primary), var(--success));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .lead {
    font-size: 1.125rem;
    color: var(--gray);
    max-width: 700px;
    margin: 0 auto;
  }

  /* Model Grid */
  .model-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 3rem;
  }
  @media (min-width: 768px) {
    .model-grid {
      grid-template-columns: 1fr 1fr;
    }
  }

  .model-card {
    background: white;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: var(--transition);
  }
  .model-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
  }

  .card-header {
    padding: 1.5rem 1.5rem 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  .card-header .icon {
    width: 2.2em;
    height: 2.2em;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    font-weight: bold;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .card-header h3 {
    margin: 0;
    font-size: 1.3rem;
  }

  .card-body {
    padding: 0 1.5rem 1.5rem;
  }
  .card-body ul {
    list-style: none;
    margin-bottom: 1rem;
  }
  .card-body li {
    padding: 0.35rem 0;
    font-size: 0.95rem;
  }
  .card-body li strong {
    color: var(--dark);
  }

  .usage-bar {
    background: #f3f4f6;
    border-radius: 6px;
    height: 28px;
    position: relative;
    overflow: hidden;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    padding: 0 0.75rem;
    color: var(--gray);
  }
  .usage-bar .fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: var(--primary);
    transition: width 0.6s ease;
  }
  .classic .fill {
    background: #3b82f6;
  }
  .lstm .fill {
    background: #f59e0b;
  }

  /* Pipeline */
  .pipeline {
    background: white;
    padding: 2rem;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    margin: 2rem 0;
  }
  .pipeline-svg {
    width: 100%;
    height: auto;
  }
  .svg-label {
    font-weight: 600;
    font-size: 14px;
    fill: var(--dark);
  }

  /* Section */
  .section {
    margin-bottom: 3rem;
  }
  .section-title {
    font-size: 1.4rem;
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .section-title .icon {
    width: 1.5em;
    height: 1.5em;
    background: var(--primary);
    color: white;
    border-radius: 50%;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
  }

  .highlight {
    background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%);
    padding: 0.1em 0.4em;
    border-radius: 4px;
    font-weight: 600;
  }

  /* Footer */
  .model-footer {
    text-align: center;
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid #e5e7eb;
    color: var(--gray);
    font-size: 0.9rem;
  }

  @media (max-width: 768px) {
    .model-header h1 {
      font-size: 2rem;
    }
    .model-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
{% endblock %}
